<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="980" height="700" viewBox="0, 0, 980, 700">
  <g id="Layer 1">
    <g>
      <text transform="matrix(1, 0, 0, 1, 118.063, 54.139)">
        <tspan x="-112.068" y="2.699" font-family="Inconsolata" font-size="20" fill="#13206F"> db.orders.mapReduce( </tspan>
      </text>
      <path d="M113.908,221.544 L113.975,221.544 L113.975,221.943 L113.908,221.943 z" fill="#FFFFFF"/>
      <text transform="matrix(1, 0, 0, 1, 505.36, 139.552)">
        <tspan x="-282.717" y="-64.84" font-family="Inconsolata" font-size="20" fill="#13206F">function() { emit( this.cust_id, this.amount ); },</tspan>
        <tspan x="-282.717" y="-37.64" font-family="Inconsolata" font-size="20" fill="#13206F">function(key, values) { return Array.sum( values ) },</tspan>
        <tspan x="-282.717" y="-10.44" font-family="Inconsolata" font-size="20" fill="#13206F">{ </tspan>
        <tspan x="-282.717" y="8.96" font-family="GillSans" font-size="20" fill="#13206F">   </tspan>
        <tspan x="-266.047" y="8.96" font-family="Inconsolata" font-size="20" fill="#13206F">query: { status: "A" }</tspan>
        <tspan x="-46.047" y="8.96" font-family="Inconsolata" font-size="20" fill="#13206F">,</tspan>
        <tspan x="-282.717" y="29.36" font-family="GillSans" font-size="20" fill="#13206F">  </tspan>
        <tspan x="-271.603" y="29.36" font-family="GillSans" font-size="20" fill="#13206F"> </tspan>
        <tspan x="-266.047" y="29.36" font-family="Inconsolata" font-size="20" fill="#13206F">out: "order_totals"</tspan>
        <tspan x="-76.047" y="29.36" font-family="Inconsolata" font-size="20" fill="#13206F">  </tspan>
        <tspan x="-282.717" y="49.16" font-family="Inconsolata" font-size="20" fill="#13206F">}</tspan>
      </text>
      <text transform="matrix(1, 0, 0, 1, 215.285, 205.853)">
        <tspan x="-8.977" y="2.699" font-family="Inconsolata" font-size="20" fill="#13206F">) </tspan>
      </text>
    </g>
    <g>
      <g>
        <path d="M6.667,242.697 L178.907,242.697 L178.907,669.697 L6.667,669.697 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 88.792, 289.697)">
          <tspan x="-66.5" y="-28.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-12.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
          <tspan x="-66.5" y="4.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 500,</tspan>
          <tspan x="-66.5" y="21.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="21.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
          <tspan x="-66.5" y="37.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
        <path d="M6.667,349.521 L179.167,349.544" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 88.792, 395.833)">
          <tspan x="-66.5" y="-28.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-12.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
          <tspan x="-66.5" y="4.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 250,</tspan>
          <tspan x="-66.5" y="21.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="21.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
          <tspan x="-66.5" y="37.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
        <path d="M6.667,455.431 L179.167,455.454" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 88.792, 502.697)">
          <tspan x="-66.5" y="-28.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-12.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "B212",</tspan>
          <tspan x="-66.5" y="4.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 200,</tspan>
          <tspan x="-66.5" y="21.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="21.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
          <tspan x="-66.5" y="37.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
        <path d="M6.495,562.064 L178.995,562.087" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 88.792, 609.501)">
          <tspan x="-66.5" y="-28.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-12.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
          <tspan x="-66.5" y="4.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 300,</tspan>
          <tspan x="-66.5" y="21.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="21.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "D"</tspan>
          <tspan x="-66.5" y="37.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
      </g>
      <text transform="matrix(1, 0, 0, 1, 92.331, 681.5)">
        <tspan x="-27" y="5.5" font-family="Inconsolata" font-size="18" fill="#13206F">orders</tspan>
      </text>
    </g>
    <g>
      <path d="M155.586,70.34 L191.587,69.927" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      <path d="M191.621,72.927 L199.586,69.836 L191.552,66.928 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 126.201, 69.582)">
      <tspan x="-33.492" y="4.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">map</tspan>
    </text>
    <g>
      <g>
        <path d="M155.586,95.34 L191.587,94.927" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        <path d="M191.621,97.927 L199.586,94.836 L191.552,91.928 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
      </g>
      <text transform="matrix(1, 0, 0, 1, 125.201, 94.582)">
        <tspan x="-34.451" y="4.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">reduce</tspan>
      </text>
    </g>
    <g>
      <g>
        <path d="M155.586,163.254 L191.587,162.841" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        <path d="M191.621,165.841 L199.586,162.75 L191.552,159.842 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
      </g>
      <text transform="matrix(1, 0, 0, 1, 121.96, 164.58)">
        <tspan x="-31.21" y="3.416" font-family="Inconsolata" font-size="18" fill="#2A86C0">output</tspan>
      </text>
    </g>
    <g>
      <g>
        <path d="M155.586,143.422 L191.587,143.009" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        <path d="M191.621,146.009 L199.586,142.918 L191.552,140.01 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
      </g>
      <text transform="matrix(1, 0, 0, 1, 117.418, 142.664)">
        <tspan x="-26.668" y="4.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">query</tspan>
      </text>
    </g>
    <text transform="matrix(1, 0, 0, 1, 64.889, 11.865)">
      <tspan x="-46.323" y="5.337" font-family="Inconsolata" font-size="18" fill="#2A86C0">Collection</tspan>
    </text>
    <g>
      <path d="M65.389,19.028 L65.389,30.028" fill-opacity="0" stroke="#358EC4" stroke-width="1"/>
      <path d="M62.389,30.028 L65.389,38.028 L68.389,30.028 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="1" stroke-opacity="1"/>
    </g>
    <g>
      <path d="M292.437,320.605 L403.527,320.605 L403.527,338.094 L292.437,338.094 z" fill="#AFD1E8"/>
      <text transform="matrix(1, 0, 0, 1, 350.918, 329.972)">
        <tspan x="-58.559" y="3.878" font-family="Inconsolata" font-size="14" fill="#13206F">cust_id: "A123",</tspan>
      </text>
    </g>
    <g>
      <path d="M293.454,429.684 L404.544,429.684 L404.544,447.172 L293.454,447.172 z" fill="#AFD1E8"/>
      <text transform="matrix(1, 0, 0, 1, 350.231, 439.851)">
        <tspan x="-56.855" y="4.321" font-family="Inconsolata" font-size="14" fill="#13206F">cust_id: "A123",</tspan>
      </text>
    </g>
    <path d="M263.34,295.379 L435.58,295.379 L435.58,615.5 L263.34,615.5 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
    <text transform="matrix(1, 0, 0, 1, 336.672, 455.515)">
      <tspan x="-57.707" y="-27.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-57.707" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-57.707" y="3.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-42.148" y="3.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 250,</tspan>
      <tspan x="-57.707" y="20.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-42.148" y="20.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
      <tspan x="-57.707" y="36.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 334.337, 346.379)">
      <tspan x="-55.372" y="-27.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-55.372" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-55.372" y="3.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-39.814" y="3.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 500,</tspan>
      <tspan x="-55.372" y="20.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-39.814" y="20.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
      <tspan x="-55.372" y="36.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <path d="M263.21,402.957 L435.71,402.98" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
    <path d="M263.21,508.867 L435.71,508.891" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
    <text transform="matrix(1, 0, 0, 1, 336.607, 561.133)">
      <tspan x="-57.772" y="-27.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-57.772" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-57.772" y="3.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-42.213" y="3.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 200,</tspan>
      <tspan x="-57.772" y="20.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-42.213" y="20.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
      <tspan x="-57.772" y="36.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <path d="M292.96,535.771 L404.049,535.771 L404.049,553.259 L292.96,553.259 z" fill="#A3A3A3"/>
    <text transform="matrix(1, 0, 0, 1, 348.96, 544.515)">
      <tspan x="-56" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "B212",</tspan>
    </text>
    <g>
      <g>
        <path d="M186.167,455.635 L239.767,455.635" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
        <path d="M239.767,460.435 L252.567,455.635 L239.767,450.835 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="4" stroke-opacity="1"/>
      </g>
      <text transform="matrix(1, 0, 0, 1, 217.176, 465.354)">
        <tspan x="-27" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">query</tspan>
      </text>
    </g>
    <text transform="matrix(1, 0, 0, 1, 881.328, 576.748)">
      <tspan x="-55.607" y="5.146" font-family="Inconsolata" font-size="18" fill="#13206F">order_totals</tspan>
    </text>
    <g>
      <path d="M442.34,455.635 L495.94,455.635" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      <path d="M495.94,460.435 L508.74,455.635 L495.94,450.835 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="4" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 470.569, 466.598)">
      <tspan x="-14.228" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">map</tspan>
    </text>
    <g>
      <path d="M721.181,407.039 L774.781,407.039" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      <path d="M774.781,411.839 L787.581,407.039 L774.781,402.239 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="4" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 748.093, 418.118)">
      <tspan x="-27.98" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">reduce</tspan>
    </text>
    <g>
      <g>
        <text transform="matrix(1, 0, 0, 1, 649.292, 407.271)">
          <tspan x="-43.393" y="3.5" font-family="Inconsolata" font-size="14" fill="#25337C">[ 500, 250 ]</tspan>
        </text>
        <path d="M553.33,398.527 L595.239,398.527 L595.239,416.015 L553.33,416.015 z" fill="#AFD1E8"/>
      </g>
      <text transform="matrix(1, 0, 0, 1, 581.415, 407.271)">
        <tspan x="-28.085" y="2.485" font-family="Inconsolata" font-size="14" fill="#13206F">"A123":</tspan>
      </text>
      <text transform="matrix(1, 0, 0, 1, 545.17, 406.271)">
        <tspan x="-3.33" y="6" font-family="GillSans" font-size="20" fill="#4F4C4B">{</tspan>
      </text>
      <text transform="matrix(1, 0, 0, 1, 697.262, 406.271)">
        <tspan x="-3.33" y="6" font-family="GillSans" font-size="20" fill="#4F4C4B">}</tspan>
      </text>
    </g>
    <path d="M552.508,494.742 L594.416,494.742 L594.416,512.23 L552.508,512.23 z" fill="#A3A3A3"/>
    <text transform="matrix(1, 0, 0, 1, 579.508, 504.108)">
      <tspan x="-27" y="3.878" font-family="Inconsolata" font-size="14" fill="#25337C">"B212":</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 617.008, 503.486)">
      <tspan x="-10.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">200</tspan>
    </text>
    <path d="M537.417,487.261 L704.63,487.261 L704.63,520.712 L537.417,520.712 z" fill-opacity="0" stroke="#514E4C" stroke-width="1"/>
    <text transform="matrix(1, 0, 0, 1, 545.17, 502.108)">
      <tspan x="-3.33" y="6" font-family="GillSans" font-size="20" fill="#4F4C4B">{</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 633.93, 503.486)">
      <tspan x="-3.33" y="6" font-family="GillSans" font-size="20" fill="#4F4C4B">}</tspan>
    </text>
    <path d="M838.045,384.069 L924.61,384.069 L924.61,401.557 L838.045,401.557 z" fill="#AFD1E8"/>
    <text transform="matrix(1, 0, 0, 1, 883.932, 393.813)">
      <tspan x="-45.887" y="3.878" font-family="Inconsolata" font-size="14" fill="#13206F">_id: "A123",</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 868.592, 401.619)">
      <tspan x="-45.827" y="-19" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-45.827" y="-4" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-45.827" y="12" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-30.269" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">value: 750</tspan>
      <tspan x="-45.827" y="28" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <path d="M836.447,494.16 L924.61,494.16 L924.61,511.649 L836.447,511.649 z" fill="#A3A3A3"/>
    <text transform="matrix(1, 0, 0, 1, 879.953, 503.705)">
      <tspan x="-43.068" y="4.321" font-family="Inconsolata" font-size="14" fill="#13206F">_id: "B212",</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 872.957, 511.94)">
      <tspan x="-51.653" y="-19" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-51.653" y="-4" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-51.653" y="12" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-36.095" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">value: 200</tspan>
      <tspan x="-51.653" y="28" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <path d="M799.372,348.776 L971.742,348.776 L971.742,562.264 L799.372,562.264 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
    <path d="M799.242,456.354 L971.742,456.377" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
    <path d="M537.417,390.667 L704.63,390.667 L704.63,424.118 L537.417,424.118 z" fill-opacity="0" stroke="#514E4C" stroke-width="1"/>
    <g>
      <path d="M721.612,504.21 L775.213,503.794" fill-opacity="0" stroke="#4F4C4B" stroke-width="4"/>
      <path d="M775.25,508.594 L788.012,503.695 L775.175,498.994 z" fill="#4F4C4B" fill-opacity="1" stroke="#4F4C4B" stroke-width="4" stroke-opacity="1"/>
    </g>
  </g>
  <defs/>
</svg>
